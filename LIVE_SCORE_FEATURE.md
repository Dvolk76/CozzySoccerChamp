# Live Score Feature - Отображение лайв счёта

## Описание

Добавлено отображение live счёта на карточках матчей с момента начала игры до момента получения финального счёта.

## Реализованные изменения

### 1. Компонент MatchCard (`client/src/components/MatchCard.tsx`)

**Изменения:**
- Добавлен wrapper `score-wrapper` вокруг счёта для группировки счёта и live бейджа
- Добавлен CSS класс `score-live` к счёту во время live матчей
- Добавлен live бейдж "LIVE" который отображается под счётом во время активного матча

**Код:**
```tsx
<div className="score-wrapper">
  <div className={`score ${scoreChanged ? `score-changed-${scoreChanged}` : ''} ${isLive ? 'score-live' : ''}`}>
    {hasScore ? `${match.scoreHome}:${match.scoreAway}` : 'vs'}
  </div>
  {isLive && hasScore && (
    <span className="live-score-badge">LIVE</span>
  )}
</div>
```

### 2. Стили (`client/src/index.css`)

**Добавлены стили:**

1. **`.score-wrapper`** - контейнер для счёта и бейджа
   - Flex-контейнер с вертикальным расположением
   - Выравнивание по центру

2. **`.score-live`** - стили для live счёта
   - Красный цвет (#ef4444) для выделения
   - Пульсирующая анимация `livePulse` (2s)
   - Плавное изменение opacity между 1 и 0.85

3. **`.live-score-badge`** - бейдж "LIVE"
   - Красный фон (#ef4444) с белым текстом
   - Компактный размер (10px шрифт, 2px 8px padding)
   - Пульсирующая анимация фона и тени
   - Пульсирующая белая точка перед текстом

**Анимации:**
- `livePulse` - пульсация прозрачности счёта
- `liveBadgePulse` - пульсация фона и тени бейджа
- `liveDot` - пульсация точки в бейдже
- `scoreFlashLive` - анимация изменения счёта для live матчей (возвращает красный цвет)

### 3. Интеграция с существующей системой

**Автообновление:**
- Использует существующую систему polling через `useMatches` hook
- Обновление данных каждые 30 секунд
- Совместимость с анимацией изменения счёта

**Определение live статуса:**
- Использует функцию `isMatchActive()` из `utils/matchStatus.ts`
- Работает для статусов: `IN_PLAY`, `LIVE`, `PAUSED`
- Автоматически скрывается когда матч переходит в статус `FINISHED`

## Как это работает

1. **До начала матча**: обычное отображение "vs" без счёта
2. **Во время матча** (IN_PLAY/LIVE/PAUSED):
   - Счёт отображается красным цветом с пульсацией
   - Под счётом появляется бейдж "LIVE" с пульсирующей точкой
   - При изменении счёта срабатывает зелёная анимация flash
3. **После матча** (FINISHED):
   - Счёт отображается обычным цветом (синий)
   - Бейдж "LIVE" скрывается
   - Пульсация останавливается

## Визуальные элементы

- **Live счёт**: красный (#ef4444) с лёгкой пульсацией
- **Live бейдж**: красный фон, белый текст, пульсирующая белая точка
- **Анимация изменения**: зелёная вспышка при обновлении счёта
- **Финальный счёт**: стандартный синий цвет без анимации

## Тестирование

Для тестирования:
1. Запустить dev-сервер: `cd client && npm run dev`
2. Дождаться начала любого матча или создать тестовый матч в статусе IN_PLAY
3. Проверить отображение live счёта с бейджем
4. Изменить счёт матча и проверить анимацию
5. Установить статус FINISHED и проверить, что live индикаторы исчезли

## Файлы изменений

- `client/src/components/MatchCard.tsx` - добавлена разметка для live счёта
- `client/src/views/AdminMatchesView.tsx` - добавлена разметка для live счёта (админская версия)
- `client/src/views/AdminMatchesManagementView.tsx` - добавлена разметка для live счёта (управление матчами)
- `client/src/index.css` - добавлены стили и анимации для live счёта

## Дата реализации

22 октября 2025

