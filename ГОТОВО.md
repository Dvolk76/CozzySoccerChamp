# ‚úÖ –í–°–Å –ì–û–¢–û–í–û! –°–∏—Å—Ç–µ–º–∞ –±–µ–∫–∞–ø–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞!

## üéâ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

### ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –±–µ–∫–∞–ø
- **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ:** –ö–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 03:00 UTC (06:00 –ú–°–ö)
- **–•—Ä–∞–Ω–µ–Ω–∏–µ:** R2 bucket `cozy-soccer-backups`
- **–ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞:** –•—Ä–∞–Ω–∏—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –±–µ–∫–∞–ø–æ–≤
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ê–∫—Ç–∏–≤–Ω–æ!**
- **–ü–µ—Ä–≤—ã–π –±–µ–∫–∞–ø:** –ó–∞–≤—Ç—Ä–∞ —É—Ç—Ä–æ–º –≤ 03:00 UTC

### ‚úÖ R2 –æ–±–ª–∞—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
- **Bucket:** `cozy-soccer-backups`
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–æ–¥–∫–ª—é—á–µ–Ω!**
- **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:** `npm run r2:list`

### ‚úÖ –õ–æ–∫–∞–ª—å–Ω—ã–π –±–µ–∫–∞–ø
- **–ö–æ–º–∞–Ω–¥–∞:** `npm run backup`
- **–¢–µ—Å—Ç–æ–≤—ã–π –±–µ–∫–∞–ø:** `backup-2025-10-06T15-36-34-265Z.json` (4.20 KB)
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç!**

### ‚úÖ API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- `POST /api/backup/create` - —Å–æ–∑–¥–∞—Ç—å –±–µ–∫–∞–ø –≤—Ä—É—á–Ω—É—é
- `GET /api/backup/list` - —Å–ø–∏—Å–æ–∫ –±–µ–∫–∞–ø–æ–≤ –≤ R2
- `POST /api/backup/restore` - –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ –±–µ–∫–∞–ø–∞
- **–î–æ—Å—Ç—É–ø:** –¢–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

---

## üìä –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã:

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å |
|-----------|--------|
| ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –±–µ–∫–∞–ø | –†–∞–±–æ—Ç–∞–µ—Ç (03:00 UTC) |
| ‚úÖ R2 —Ö—Ä–∞–Ω–∏–ª–∏—â–µ | –ü–æ–¥–∫–ª—é—á–µ–Ω–æ |
| ‚úÖ –õ–æ–∫–∞–ª—å–Ω—ã–π –±–µ–∫–∞–ø | –†–∞–±–æ—Ç–∞–µ—Ç |
| ‚úÖ API endpoints | –†–∞–±–æ—Ç–∞—é—Ç |
| ‚è≠Ô∏è Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è | –û—Ç–∫–ª—é—á–µ–Ω–æ (–ø–æ –∂–µ–ª–∞–Ω–∏—é) |

---

## üíª –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

```bash
# –ë–µ–∫–∞–ø—ã
npm run backup                    # –°–æ–∑–¥–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π –±–µ–∫–∞–ø
npm run backup:restore           # –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ —Ñ–∞–π–ª–∞

# R2
npm run r2:list                  # –°–ø–∏—Å–æ–∫ buckets

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
wrangler tail                    # –°–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

# –î–µ–ø–ª–æ–π
npm run build                    # –°–æ–±—Ä–∞—Ç—å TypeScript
npm run deploy                   # –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å worker
```

---

## üß™ –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

1. **–ö–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 03:00 UTC:**
   - Worker –∑–∞–ø—É—Å–∫–∞–µ—Ç cron job
   - –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã –ë–î
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ R2: `backup-YYYY-MM-DDTHH-mm-ss-sssZ.json`
   - –£–¥–∞–ª—è–µ—Ç –±–µ–∫–∞–ø—ã —Å—Ç–∞—Ä—à–µ 30 –¥–Ω–µ–π
   - –õ–æ–≥–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç

2. **–§–æ—Ä–º–∞—Ç –±–µ–∫–∞–ø–∞:**
   ```json
   {
     "timestamp": "2025-10-06T03:00:00.000Z",
     "version": "1.0",
     "tables": {
       "User": [...],
       "Match": [...],
       "Prediction": [...],
       "PredictionHistory": [...],
       "Score": [...]
     },
     "schema": [...]
   }
   ```

---

## üîç –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É:

### 1. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ cron:
```bash
wrangler tail
# –ñ–¥–∏—Ç–µ 03:00 UTC –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ —Ä—É—á–Ω–æ–π –±–µ–∫–∞–ø
```

### 2. –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –±–µ–∫–∞–ø:
```bash
# –í–∞—Ä–∏–∞–Ω—Ç –ê: –õ–æ–∫–∞–ª—å–Ω–æ
npm run backup

# –í–∞—Ä–∏–∞–Ω—Ç –ë: –ß–µ—Ä–µ–∑ API (–¥–ª—è –∞–¥–º–∏–Ω–æ–≤)
# –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ —Å Telegram –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π:
# https://cozy-soccer-champ.cozzy-soccer.workers.dev/api/backup/create
```

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–µ–∫–∞–ø—ã –≤ R2:
```bash
# –ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –∞–≤—Ç–æ–±–µ–∫–∞–ø–∞ –∏–ª–∏ —Ä—É—á–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è
# –±–µ–∫–∞–ø—ã –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —á–µ—Ä–µ–∑ API:
# https://cozy-soccer-champ.cozzy-soccer.workers.dev/api/backup/list
```

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:

- **BACKUP_SYSTEM.md** - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **BACKUP_QUICKSTART.md** - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- **START_HERE.md** - –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:

‚úÖ API –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º  
‚úÖ R2 bucket –ø—Ä–∏–≤–∞—Ç–Ω—ã–π (—Ç–æ–ª—å–∫–æ –≤–∞—à worker)  
‚úÖ –ë–µ–∫–∞–ø—ã –≤–∫–ª—é—á–∞—é—Ç —Å—Ö–µ–º—É –ë–î –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è  
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –±–µ–∫–∞–ø–æ–≤  

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):

### –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ:

1. **Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:**
   - –ü–æ–ª—É—á–∞–π—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ —Å—Ç–∞—Ç—É—Å–µ –±–µ–∫–∞–ø–æ–≤
   - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: `FINAL_STEPS.md`

2. **Webhook –¥–ª—è –±–µ–∫–∞–ø–æ–≤:**
   - –û—Ç–ø—Ä–∞–≤–ª—è–π—Ç–µ –±–µ–∫–∞–ø—ã –Ω–∞ –≤–Ω–µ—à–Ω–∏–π —Å–µ—Ä–≤–µ—Ä
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞: `wrangler secret put BACKUP_WEBHOOK_URL`

3. **–ò–∑–º–µ–Ω–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ:**
   - –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `wrangler.toml`:
   ```toml
   [triggers]
   crons = ["0 */6 * * *"]  # –ö–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤
   ```

---

## ‚ú® –ò—Ç–æ–≥:

**‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç!**

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±–µ–∫–∞–ø—ã: ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã
- –û–±–ª–∞—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ: ‚úÖ R2 –ø–æ–¥–∫–ª—é—á–µ–Ω
- –õ–æ–∫–∞–ª—å–Ω—ã–µ –±–µ–∫–∞–ø—ã: ‚úÖ –î–æ—Å—Ç—É–ø–Ω—ã
- API —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è: ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç

**–ü–µ—Ä–≤—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –±–µ–∫–∞–ø: –ó–∞–≤—Ç—Ä–∞ –≤ 03:00 UTC (06:00 –ú–°–ö)** ‚è∞

**Worker URL:** https://cozy-soccer-champ.cozzy-soccer.workers.dev  
**R2 Bucket:** cozy-soccer-backups  

---

**üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è—é! –í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ —Ç–µ–ø–µ—Ä—å –∑–∞—â–∏—â–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –±–µ–∫–∞–ø–∞–º–∏!** üéâ

