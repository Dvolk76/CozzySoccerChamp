# ðŸ”„ Live Score Auto-Sync Setup

## ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ

Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð¹ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¸ live ÑÑ‡ÐµÑ‚Ð° Ð¼Ð°Ñ‚Ñ‡ÐµÐ¹ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½Ð° Ð¸ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð½Ð° Ð´Ð²ÑƒÑ… ÑƒÑ€Ð¾Ð²Ð½ÑÑ…:

### 1. ðŸš€ Background Sync (ÐºÐ°Ð¶Ð´Ñ‹Ðµ 60 ÑÐµÐºÑƒÐ½Ð´)
- Ð Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¿Ñ€Ð¸ Ð»ÑŽÐ±Ð¾Ð¼ API Ð·Ð°Ð¿Ñ€Ð¾ÑÐµ
- Ð¡Ð¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð¸Ñ€ÑƒÐµÑ‚ Ð²ÑÐµ Ð¼Ð°Ñ‚Ñ‡Ð¸ ÐµÑÐ»Ð¸ Ð¿Ñ€Ð¾ÑˆÐ»Ð¾ >60 ÑÐµÐºÑƒÐ½Ð´ Ñ Ð¿Ð¾ÑÐ»ÐµÐ´Ð½ÐµÐ¹ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¸
- ÐÐµ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ð¹ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸
- ÐšÐ¾Ð´: `src/worker.ts` (ÑÑ‚Ñ€Ð¾ÐºÐ¸ 186-229)

### 2. â° Cron Job (ÐºÐ°Ð¶Ð´Ñ‹Ðµ 3 Ð¼Ð¸Ð½ÑƒÑ‚Ñ‹)
- Ð—Ð°Ð¿ÑƒÑÐºÐ°ÐµÑ‚ÑÑ Ð¿Ð¾ Ñ€Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸ÑŽ Ð½ÐµÐ·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ Ð¾Ñ‚ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð²
- Ð“Ð°Ñ€Ð°Ð½Ñ‚Ð¸Ñ€ÑƒÐµÑ‚ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð´Ð°Ð¶Ðµ ÐµÑÐ»Ð¸ Ð½ÐµÑ‚ Ð°ÐºÑ‚Ð¸Ð²Ð½Ð¾ÑÑ‚Ð¸ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹
- ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐµÑ‚ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð² Telegram Ð¾ live Ð¼Ð°Ñ‚Ñ‡Ð°Ñ…
- ÐšÐ¾Ð´: `src/cron/live-sync-job.ts`

## ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Cron Jobs

Ð’ `wrangler.toml` Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½Ñ‹ Ð´Ð²Ð° cron job:

```toml
[triggers]
crons = [
  "0 3 * * *",      # Daily backup at 03:00 UTC
  "*/3 * * * *"     # Live sync every 3 minutes
]
```

### Ð˜Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ Ñ‡Ð°ÑÑ‚Ð¾Ñ‚Ñ‹ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¸

Ð•ÑÐ»Ð¸ Ð½ÑƒÐ¶Ð½Ð¾ Ð¸Ð·Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ñ‡Ð°ÑÑ‚Ð¾Ñ‚Ñƒ:

- `*/1 * * * *` - ÐºÐ°Ð¶Ð´ÑƒÑŽ Ð¼Ð¸Ð½ÑƒÑ‚Ñƒ (Ñ‡Ð°ÑÑ‚Ð¾Ðµ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ, Ð±Ð¾Ð»ÑŒÑˆÐµ CPU)
- `*/3 * * * *` - ÐºÐ°Ð¶Ð´Ñ‹Ðµ 3 Ð¼Ð¸Ð½ÑƒÑ‚Ñ‹ (Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ)
- `*/5 * * * *` - ÐºÐ°Ð¶Ð´Ñ‹Ðµ 5 Ð¼Ð¸Ð½ÑƒÑ‚ (ÑÐºÐ¾Ð½Ð¾Ð¼Ð½Ñ‹Ð¹ Ñ€ÐµÐ¶Ð¸Ð¼)
- `*/10 * * * *` - ÐºÐ°Ð¶Ð´Ñ‹Ðµ 10 Ð¼Ð¸Ð½ÑƒÑ‚

## ÐšÐ°Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ

1. **API Ð·Ð°Ð¿Ñ€Ð¾Ñ** Ðº football-data.org
   - ÐŸÐ¾Ð»ÑƒÑ‡Ð°ÐµÑ‚ Ð’Ð¡Ð• Ð¼Ð°Ñ‚Ñ‡Ð¸ ÑÐµÐ·Ð¾Ð½Ð° (Ð²ÐºÐ»ÑŽÑ‡Ð°Ñ live)
   - Ð¡Ñ‚Ð°Ñ‚ÑƒÑÑ‹: `IN_PLAY`, `LIVE`, `PAUSED`, `FINISHED`, `TIMED`
   
2. **ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° live ÑÑ‡ÐµÑ‚Ð°**
   ```typescript
   // Ð”Ð»Ñ live Ð¼Ð°Ñ‚Ñ‡ÐµÐ¹ Ð±ÐµÑ€ÐµÐ¼ ÑÑ‡ÐµÑ‚ Ð¸Ð· fullTime
   let scoreHome = m.score?.fullTime?.home ?? null;
   let scoreAway = m.score?.fullTime?.away ?? null;
   
   // Ð•ÑÐ»Ð¸ fullTime Ð½ÐµÑ‚, Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ halfTime Ð´Ð»Ñ live
   if ((scoreHome === null || scoreAway === null) && 
       (status === 'LIVE' || status === 'IN_PLAY' || status === 'PAUSED')) {
     scoreHome = m.score?.halfTime?.home ?? scoreHome;
     scoreAway = m.score?.halfTime?.away ?? scoreAway;
   }
   ```

3. **Upsert Ð² Ð±Ð°Ð·Ñƒ Ð´Ð°Ð½Ð½Ñ‹Ñ…**
   - ÐžÐ±Ð½Ð¾Ð²Ð»ÑÐµÑ‚ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ðµ Ð¼Ð°Ñ‚Ñ‡Ð¸
   - Ð¡Ð¾Ð·Ð´Ð°ÐµÑ‚ Ð½Ð¾Ð²Ñ‹Ðµ Ð¼Ð°Ñ‚Ñ‡Ð¸

4. **ÐžÑ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ Ð½Ð° Ñ„Ñ€Ð¾Ð½Ñ‚ÐµÐ½Ð´Ðµ**
   - `MatchCard` Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¿Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ ÑÑ‡ÐµÑ‚ Ð´Ð»Ñ live Ð¼Ð°Ñ‚Ñ‡ÐµÐ¹
   - ÐÐ½Ð¸Ð¼Ð°Ñ†Ð¸Ñ Ð¿Ñ€Ð¸ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¸ ÑÑ‡ÐµÑ‚Ð°
   - Ð˜Ð½Ð´Ð¸ÐºÐ°Ñ‚Ð¾Ñ€ live ÑÑ‚Ð°Ñ‚ÑƒÑÐ°

## Ð”ÐµÐ¿Ð»Ð¾Ð¹

ÐŸÐ¾ÑÐ»Ðµ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹ Ð² ÐºÐ¾Ð´Ðµ:

```bash
# 1. ÐšÐ¾Ð¼Ð¿Ð¸Ð»ÑÑ†Ð¸Ñ TypeScript
npm run build

# 2. Ð”ÐµÐ¿Ð»Ð¾Ð¹ Ð½Ð° Cloudflare Workers
wrangler deploy

# Ð”Ð»Ñ production Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ:
wrangler deploy --env production
```

## ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹

### Ð›Ð¾ÐºÐ°Ð»ÑŒÐ½Ð°Ñ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ°

```bash
# Ð—Ð°Ð¿ÑƒÑÐº Ñ Ð¿Ð¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ¾Ð¹ cron
wrangler dev

# Ð’ Ð´Ñ€ÑƒÐ³Ð¾Ð¼ Ñ‚ÐµÑ€Ð¼Ð¸Ð½Ð°Ð»Ðµ - Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ cron Ð²Ñ€ÑƒÑ‡Ð½ÑƒÑŽ
curl "http://localhost:8787/__scheduled?cron=*/3+*+*+*+*"
```

### Production

1. **Ð§ÐµÑ€ÐµÐ· Cloudflare Dashboard:**
   - Workers & Pages â†’ Ð’Ð°Ñˆ worker â†’ Triggers â†’ Cron Triggers
   - Ð£Ð²Ð¸Ð´Ð¸Ñ‚Ðµ Ð¾Ð±Ð° cron jobs
   - ÐœÐ¾Ð¶Ð½Ð¾ Ð¿Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð»Ð¾Ð³Ð¸ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ

2. **Ð§ÐµÑ€ÐµÐ· API:**
   ```bash
   # Ð ÑƒÑ‡Ð½Ð°Ñ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ Ñ‡ÐµÑ€ÐµÐ· Ð°Ð´Ð¼Ð¸Ð½ÐºÑƒ
   curl -X POST https://your-worker.workers.dev/api/admin/sync-matches \
     -H "X-Telegram-Init-Data: YOUR_INIT_DATA"
   ```

3. **Ð›Ð¾Ð³Ð¸:**
   ```bash
   wrangler tail
   # Ð¸Ð»Ð¸
   wrangler tail --env production
   ```

## Telegram ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ

Ð•ÑÐ»Ð¸ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½ `TELEGRAM_ADMIN_CHAT_ID`, Ð²Ñ‹ Ð±ÑƒÐ´ÐµÑ‚Ðµ Ð¿Ð¾Ð»ÑƒÑ‡Ð°Ñ‚ÑŒ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ:

### ÐŸÑ€Ð¸ live Ð¼Ð°Ñ‚Ñ‡Ð°Ñ…:
```
ðŸ”„ Live Sync Job

âœ… Ð¡Ð¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾: 189 Ð¼Ð°Ñ‚Ñ‡ÐµÐ¹
âš½ Live Ð¼Ð°Ñ‚Ñ‡ÐµÐ¹: 7
â± Ð’Ñ€ÐµÐ¼Ñ: 1234ms

âš½ Bayer 04 Leverkusen 0:1 Paris Saint-Germain FC (IN_PLAY)
âš½ Arsenal FC 0:0 Club AtlÃ©tico de Madrid (IN_PLAY)
...
```

### ÐŸÑ€Ð¸ Ð¾ÑˆÐ¸Ð±ÐºÐ°Ñ…:
```
âŒ Live Sync Job Failed

Error: API rate limit exceeded
Duration: 500ms
Time: 2025-10-21T22:00:00.000Z
```

## ÐœÐ¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³

### ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¸

Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ð¹ ÑÐºÑ€Ð¸Ð¿Ñ‚ Ð´Ð»Ñ Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³Ð°:

```javascript
// scripts/monitor-live-matches.mjs
const response = await fetch('https://your-worker.workers.dev/api/matches');
const data = await response.json();

const liveMatches = data.matches.filter(m => 
  m.status === 'IN_PLAY' || m.status === 'LIVE'
);

console.log(`âš½ Live Ð¼Ð°Ñ‚Ñ‡ÐµÐ¹: ${liveMatches.length}`);
liveMatches.forEach(m => {
  console.log(`  ${m.homeTeam} ${m.scoreHome}:${m.scoreAway} ${m.awayTeam}`);
});
```

## ÐžÐ³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ñ API

**football-data.org free tier:**
- 10 Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð² Ð² Ð¼Ð¸Ð½ÑƒÑ‚Ñƒ
- 30 Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð² Ð² Ñ‡Ð°Ñ (Ð´Ð»Ñ Ð½ÐµÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ñ… endpoints)

**Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸:**
- ÐÐµ ÑÑ‚Ð°Ð²ÑŒÑ‚Ðµ Ñ‡Ð°ÑÑ‚Ð¾Ñ‚Ñƒ Ð²Ñ‹ÑˆÐµ `*/3 * * * *` (ÐºÐ°Ð¶Ð´Ñ‹Ðµ 3 Ð¼Ð¸Ð½ÑƒÑ‚Ñ‹)
- Background sync + cron job Ð² ÑÑƒÐ¼Ð¼Ðµ Ð´Ð°ÑŽÑ‚ Ñ…Ð¾Ñ€Ð¾ÑˆÐµÐµ Ð¿Ð¾ÐºÑ€Ñ‹Ñ‚Ð¸Ðµ
- Ð’ Ð¿Ð¸ÐºÐ¾Ð²Ñ‹Ðµ Ñ‡Ð°ÑÑ‹ Ð¼Ð°Ñ‚Ñ‡ÐµÐ¹ Ð¼Ð¾Ð¶Ð½Ð¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾ ÑƒÐ²ÐµÐ»Ð¸Ñ‡Ð¸Ñ‚ÑŒ Ð´Ð¾ `*/2 * * * *`

## ÐžÑ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¸

Ð•ÑÐ»Ð¸ Ð½ÑƒÐ¶Ð½Ð¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ð¾ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ:

1. **Cron job (Ð½Ð° production):**
   ```bash
   # Ð£Ð´Ð°Ð»Ð¸Ñ‚Ðµ cron Ð¸Ð· wrangler.toml Ð¸ ÑÐ´ÐµÐ»Ð°Ð¹Ñ‚Ðµ deploy
   # Ð¸Ð»Ð¸ Ð·Ð°ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð² worker.ts Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸Ðº
   ```

2. **Background sync:**
   ```typescript
   // Ð’ src/worker.ts Ð·Ð°ÐºÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ ÑÑ‚Ñ€Ð¾ÐºÐ¸ 186-229
   // Ð¸Ð»Ð¸ ÑƒÐ²ÐµÐ»Ð¸Ñ‡ÑŒÑ‚Ðµ Ð¸Ð½Ñ‚ÐµÑ€Ð²Ð°Ð»: timeSinceLastSync > 3600000 (1 Ñ‡Ð°Ñ)
   ```

## Troubleshooting

### Cron Ð½Ðµ Ð·Ð°Ð¿ÑƒÑÐºÐ°ÐµÑ‚ÑÑ

1. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚ Ð² `wrangler.toml`:
   ```toml
   crons = ["*/3 * * * *"]  # ÐŸÑ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾
   # ÐÐ•:
   crons = "*/3 * * * *"    # ÐÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ð¾ - Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð±Ñ‹Ñ‚ÑŒ Ð¼Ð°ÑÑÐ¸Ð²
   ```

2. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð´ÐµÐ¿Ð»Ð¾Ð¹:
   ```bash
   wrangler deployments list
   ```

### Ð¡Ñ‡ÐµÑ‚ Ð½Ðµ Ð¾Ð±Ð½Ð¾Ð²Ð»ÑÐµÑ‚ÑÑ

1. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð»Ð¾Ð³Ð¸:
   ```bash
   wrangler tail --format pretty
   ```

2. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ API Ñ‚Ð¾ÐºÐµÐ½:
   ```bash
   wrangler secret list
   # Ð”Ð¾Ð»Ð¶ÐµÐ½ Ð±Ñ‹Ñ‚ÑŒ FOOTBALL_API_TOKEN
   ```

3. Ð¢ÐµÑÑ‚ API Ð²Ñ€ÑƒÑ‡Ð½ÑƒÑŽ:
   ```bash
   curl -H "X-Auth-Token: YOUR_TOKEN" \
     https://api.football-data.org/v4/competitions/CL/matches?season=2025
   ```

### ÐŸÑ€ÐµÐ²Ñ‹ÑˆÐµÐ½ Ð»Ð¸Ð¼Ð¸Ñ‚ API

Ð•ÑÐ»Ð¸ Ð²Ð¸Ð´Ð¸Ñ‚Ðµ Ð¾ÑˆÐ¸Ð±ÐºÑƒ "429 Too Many Requests":

1. Ð£Ð²ÐµÐ»Ð¸Ñ‡ÑŒÑ‚Ðµ Ð¸Ð½Ñ‚ÐµÑ€Ð²Ð°Ð» cron Ð´Ð¾ `*/5 * * * *`
2. Ð˜Ð»Ð¸ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ðµ background sync
3. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð´Ñ€ÑƒÐ³Ð¸Ðµ Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸ÐºÐ¸ Ð·Ð°Ð¿Ñ€Ð¾ÑÐ¾Ð² Ðº API

## Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸

### Ð¡Ð¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð²Ð¾ Ð²Ñ€ÐµÐ¼Ñ Ð¸Ð³Ñ€

ÐœÐ¾Ð¶Ð½Ð¾ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ, ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð¸Ñ€ÑƒÑ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð² Ð¸Ð³Ñ€Ð¾Ð²Ñ‹Ðµ Ñ‡Ð°ÑÑ‹:

```typescript
// Ð’ live-sync-job.ts Ð´Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÑƒ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸
const hour = new Date().getUTCHours();

// ÐœÐ°Ñ‚Ñ‡Ð¸ Ð›Ð§ Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ 17:45 Ð¸ 20:00 UTC
const isMatchTime = (hour >= 17 && hour <= 23);

if (!isMatchTime) {
  logger.info('[LiveSync] Skipping - not match time');
  return;
}
```

### Webhook Ð²Ð¼ÐµÑÑ‚Ð¾ cron

ÐœÐ¾Ð¶Ð½Ð¾ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ webhook Ð¾Ñ‚ Ð²Ð½ÐµÑˆÐ½ÐµÐ³Ð¾ ÑÐµÑ€Ð²Ð¸ÑÐ° Ð´Ð»Ñ Ð±Ð¾Ð»ÐµÐµ Ð³Ð¸Ð±ÐºÐ¾Ð³Ð¾ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ.

## Support

Ð•ÑÐ»Ð¸ Ð²Ð¾Ð·Ð½Ð¸ÐºÐ»Ð¸ Ð²Ð¾Ð¿Ñ€Ð¾ÑÑ‹ Ð¸Ð»Ð¸ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹:
1. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð»Ð¾Ð³Ð¸: `wrangler tail`
2. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ ÑÑ‚Ð°Ñ‚ÑƒÑ worker: Cloudflare Dashboard
3. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ API Ð»Ð¸Ð¼Ð¸Ñ‚Ñ‹: https://www.football-data.org/client/home

---

**Status:** âœ… ÐÐ°ÑÑ‚Ñ€Ð¾ÐµÐ½Ð¾ Ð¸ Ð³Ð¾Ñ‚Ð¾Ð²Ð¾ Ðº Ñ€Ð°Ð±Ð¾Ñ‚Ðµ
**Ð§Ð°ÑÑ‚Ð¾Ñ‚Ð°:** ÐšÐ°Ð¶Ð´Ñ‹Ðµ 3 Ð¼Ð¸Ð½ÑƒÑ‚Ñ‹ + Ñ„Ð¾Ð½Ð¾Ð²Ð°Ñ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ
**Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ:** Telegram (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾)

