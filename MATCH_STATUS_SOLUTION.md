# üèÜ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å–æ —Å—Ç–∞—Ç—É—Å–∞–º–∏ –º–∞—Ç—á–µ–π

## üìã –ü—Ä–æ–±–ª–µ–º–∞
–ú–∞—Ç—á–∏ –Ω–∞ 30 —Å–µ–Ω—Ç—è–±—Ä—è –∏ –¥—Ä—É–≥–∏–µ —Å—Ç–∞—Ä—ã–µ –º–∞—Ç—á–∏ –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏—Å—å –∫–∞–∫ "live" (–≤ –∏–≥—Ä–µ), —Ö–æ—Ç—è –æ–Ω–∏ –¥–∞–≤–Ω–æ –∑–∞–≤–µ—Ä—à–∏–ª–∏—Å—å.

## üîç –ê–Ω–∞–ª–∏–∑
–ü–æ—Å–ª–µ –∏–∑—É—á–µ–Ω–∏—è –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Football Data API v4 –∏ –∞–Ω–∞–ª–∏–∑–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –±—ã–ª–æ –≤—ã—è–≤–ª–µ–Ω–æ:

1. **133 –º–∞—Ç—á–∞ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `TIMED`** - —ç—Ç–æ—Ç —Å—Ç–∞—Ç—É—Å –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª—Å—è –≤ –ª–æ–≥–∏–∫–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
2. **24 —Å—Ç–∞—Ä—ã—Ö –º–∞—Ç—á–∞** —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `TIMED` –±—ã–ª–∏ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã –≤ `FINISHED`
3. **–û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞** –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Å—Ç–∞—Ç—É—Å–æ–≤ –∏–∑ API

## üõ†Ô∏è –†–µ—à–µ–Ω–∏–µ

### 1. –°–æ–∑–¥–∞–Ω–∞ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —É—Ç–∏–ª–∏—Ç–∞ `matchStatus.ts`

**–§–∞–π–ª:** `client/src/utils/matchStatus.ts`

**–§—É–Ω–∫—Ü–∏–∏:**
- `getMatchStatus(match)` - –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –º–∞—Ç—á–∞
- `canBetOnMatch(match)` - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –º–æ–∂–Ω–æ –ª–∏ –¥–µ–ª–∞—Ç—å —Å—Ç–∞–≤–∫–∏
- `isMatchActive(match)` - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –∞–∫—Ç–∏–≤–µ–Ω –ª–∏ –º–∞—Ç—á
- `isMatchFinished(match)` - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, –∑–∞–≤–µ—Ä—à–µ–Ω –ª–∏ –º–∞—Ç—á

### 2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö —Å—Ç–∞—Ç—É—Å–æ–≤ Football Data API v4

| –°—Ç–∞—Ç—É—Å API | –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ | –ö–ª–∞—Å—Å CSS | –ê–∫—Ç–∏–≤–µ–Ω | –ó–∞–≤–µ—Ä—à–µ–Ω |
|------------|-------------|-----------|---------|----------|
| `SCHEDULED` | –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω | `scheduled` | ‚ùå | ‚ùå |
| `TIMED` | –ù–∞—á–∞—Ç/–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω | `live`/`scheduled` | ‚úÖ/‚ùå | ‚ùå |
| `IN_PLAY` | –í –∏–≥—Ä–µ | `live` | ‚úÖ | ‚ùå |
| `LIVE` | –í –∏–≥—Ä–µ | `live` | ‚úÖ | ‚ùå |
| `PAUSED` | –ü–∞—É–∑–∞ | `paused` | ‚úÖ | ‚ùå |
| `FINISHED` | –ó–∞–≤–µ—Ä—à–µ–Ω | `finished` | ‚ùå | ‚úÖ |
| `POSTPONED` | –û—Ç–ª–æ–∂–µ–Ω | `postponed` | ‚ùå | ‚ùå |
| `SUSPENDED` | –ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω | `suspended` | ‚ùå | ‚ùå |
| `CANCELLED` | –û—Ç–º–µ–Ω–µ–Ω | `cancelled` | ‚ùå | ‚ùå |
| `AWARDED` | –ü—Ä–∏—Å—É–∂–¥–µ–Ω | `awarded` | ‚ùå | ‚úÖ |
| `NO_PLAY` | –ù–µ —Å–æ—Å—Ç–æ—è–ª—Å—è | `no-play` | ‚ùå | ‚ùå |

### 3. –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è —Å—Ç–∞—Ç—É—Å–∞ TIMED

```typescript
case 'TIMED': {
  // TIMED –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —É –º–∞—Ç—á–∞ –µ—Å—Ç—å –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è, –Ω–æ –æ–Ω –µ—â–µ –Ω–µ –Ω–∞—á–∞–ª—Å—è
  if (now >= matchTime) {
    // –í—Ä–µ–º—è –Ω–∞—Å—Ç—É–ø–∏–ª–æ, –Ω–æ –º–∞—Ç—á –µ—â–µ –Ω–µ –ø–µ—Ä–µ—à–µ–ª –≤ IN_PLAY - —Å—á–∏—Ç–∞–µ–º –Ω–∞—á–∞—Ç—ã–º
    return { text: '–ù–∞—á–∞—Ç', class: 'live', isLive: true };
  } else {
    // –í—Ä–µ–º—è –µ—â–µ –Ω–µ –Ω–∞—Å—Ç—É–ø–∏–ª–æ - –º–∞—Ç—á –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω
    return { text: '–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω', class: 'scheduled', isLive: false };
  }
}
```

### 4. –£–º–Ω–∞—è –ª–æ–≥–∏–∫–∞ –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –º–∞—Ç—á–µ–π

```typescript
// –ï—Å–ª–∏ –º–∞—Ç—á –±—ã–ª –±–æ–ª–µ–µ 3 —á–∞—Å–æ–≤ –Ω–∞–∑–∞–¥ –∏ –µ—Å—Ç—å —Å—á–µ—Ç, —Å—á–∏—Ç–∞–µ–º –µ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–º
if (minutesFromKickoff >= 180 && hasScore) {
  return { text: '–ó–∞–≤–µ—Ä—à–µ–Ω', class: 'finished', isFinished: true };
}

// –ï—Å–ª–∏ –º–∞—Ç—á –±—ã–ª –±–æ–ª–µ–µ 4 —á–∞—Å–æ–≤ –Ω–∞–∑–∞–¥, —Å—á–∏—Ç–∞–µ–º –µ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–º –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç —Å—Ç–∞—Ç—É—Å–∞
if (minutesFromKickoff >= 240) {
  return { text: '–ó–∞–≤–µ—Ä—à–µ–Ω', class: 'finished', isFinished: true };
}
```

### 4. –û–±–Ω–æ–≤–ª–µ–Ω—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

**–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `client/src/components/MatchCard.tsx`
- `client/src/views/AdminMatchesView.tsx`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –ó–∞–º–µ–Ω–µ–Ω–∞ —Å—Ç–∞—Ä–∞—è –ª–æ–≥–∏–∫–∞ –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–æ–≤–æ–π —É—Ç–∏–ª–∏—Ç—ã
- –£–±—Ä–∞–Ω—ã –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è —Ñ—É–Ω–∫—Ü–∏–∏
- –£–ª—É—á—à–µ–Ω–∞ —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∫–æ–¥–∞

### 5. –°–æ–∑–¥–∞–Ω—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

**–°–∫—Ä–∏–ø—Ç—ã:**
- `scripts/check-matches.mjs` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–∞—Ç—á–µ–π
- `scripts/fix-match-statuses.mjs` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—â–∏—Ö –ø—Ä–æ–±–ª–µ–º
- `scripts/fix-timed-matches.mjs` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ TIMED
- `scripts/test-status-logic.mjs` - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- 133 –º–∞—Ç—á–∞ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `TIMED` (–Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª–∏—Å—å)
- 12 –º–∞—Ç—á–µ–π —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `FINISHED`
- 44 –º–∞—Ç—á–∞ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `SCHEDULED`

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
- 109 –º–∞—Ç—á–µ–π —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `TIMED` (–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è)
- 36 –º–∞—Ç—á–µ–π —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `FINISHED` (+24 –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö)
- 44 –º–∞—Ç—á–∞ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `SCHEDULED`

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è

1. **–ü–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** —Å Football Data API v4
2. **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞** - –≤—Å–µ —Å—Ç–∞—Ç—É—Å—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
3. **–£–º–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –º–∞—Ç—á–µ–π** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
4. **–¢–∏–ø–∏–∑–∞—Ü–∏—è TypeScript** - –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ç–∏–ø–æ–≤
5. **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É
6. **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Å—Ç–∞—Ç—É—Å—ã

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:

```bash
node scripts/test-status-logic.mjs
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
- ‚úÖ –í—Å–µ —Å—Ç–∞—Ç—É—Å—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –°—Ç–∞—Ä—ã–µ –º–∞—Ç—á–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–≤–æ–¥—è—Ç—Å—è –≤ "–ó–∞–≤–µ—Ä—à–µ–Ω"
- ‚úÖ –ê–∫—Ç–∏–≤–Ω—ã–µ –º–∞—Ç—á–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∫–∞–∫ "–í –∏–≥—Ä–µ"
- ‚úÖ –õ–æ–≥–∏–∫–∞ —Å—Ç–∞–≤–æ–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```typescript
import { getMatchStatus, isMatchActive, canBetOnMatch } from '../utils/matchStatus';

// –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
const status = getMatchStatus(match);
console.log(status.text); // "–í –∏–≥—Ä–µ", "–ó–∞–≤–µ—Ä—à–µ–Ω", etc.

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
if (isMatchActive(match)) {
  // –ú–∞—Ç—á –≤ –∏–≥—Ä–µ
}

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å—Ç–∞–≤–æ–∫
if (canBetOnMatch(match)) {
  // –ú–æ–∂–Ω–æ –¥–µ–ª–∞—Ç—å —Å—Ç–∞–≤–∫–∏
}
```

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü—Ä–æ–±–ª–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞. –¢–µ–ø–µ—Ä—å –≤—Å–µ –º–∞—Ç—á–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏, –∞ —Å—Ç–∞—Ä—ã–µ –º–∞—Ç—á–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–≤–æ–¥—è—Ç—Å—è –≤ —Å—Ç–∞—Ç—É—Å "–ó–∞–≤–µ—Ä—à–µ–Ω". –°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–ª–∞ –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω–æ–π –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Football Data API.
